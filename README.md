# Компетенционно-должностная система (Desktop)

Полностью рабочее кроссплатформенное приложение (Windows/macOS/Linux) на **Python 3.11+**, **PySide6**, **SQLite + SQLAlchemy**,
с поддержкой **matplotlib** (графики), **ReportLab** (PDF-отчёты), **pandas/openpyxl** (импорт/экспорт), логами и сборкой **PyInstaller**.

## Быстрый старт

```bash
python -m venv .venv
# Windows: .venv\Scripts\activate
# macOS/Linux: source .venv/bin/activate

pip install -r requirements.txt
python -m app.main
```

На первом запуске будет создана пустая БД `app/data/app.db`. Все справочники изначально пустые.

## Что умеет MVP
- Разделение данных по **отделам** (активный контекст отдела в верхней панели).
- CRUD для **Отделов, Должностей, Сотрудников, Компетенций, Критериев, Функций, Задач**.
- Весовые правила с **автогенерацией/нормализацией** (сумма весов в группе = 1.0).
- Оценки и агрегации `задача → критерий → компетенция → сотрудник`.
- **Левелинг**: настраиваемые пороги L1/L2, базовые минимумы по должностям, «высшая точка».
- **Матрицы** и **Дашборды** (радар, бар-чарт, прогресс до апекса).
- **Импорт сотрудников из CSV** (мастер 5 шагов с dry‑run и логом).
- **PDF‑отчёты**: профиль сотрудника, сводка отдела.
- Логи в `logs/app.log` и `logs/import_*.log`.
- Интерфейс на русском, i18n‑слой (словарь).

## Структура
См. дерево каталогов в описании задачи — оно соблюдено. Исходники внутри `app/`.

## Сборка
См. `build_instructions.md` (PyInstaller для Win/macOS/Linux).

## Замечания
- Используется **ReportLab** (а не WeasyPrint) для PDF, чтобы избежать системных зависимостей.
- БД создаётся автоматически; миграции не требуются в рамках MVP.
